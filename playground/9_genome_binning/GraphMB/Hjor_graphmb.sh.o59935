logging to Hjor_bins/20240302-152436graphmb_output.log
Running GraphMB 0.2.5
using cuda: False
setting seed to 1
setting tf seed
Reading cache from
Not using SCG file: marker_gene_stats.tsv (not found)
==============================
DATASET STATS:
number of sequences: 8489
assembly length: 0.481 Gb
assembly N50: 0.195 Mb
assembly average length (Mb): 0.057 max: 5.243 min: 0.0
coverage samples: 1
Graph file found and read
graph edges: 17498
contig paths: 8489
No SCG markers
==============================
loading features from Hjor/features.tsv
loaded 8489 features/ 8489 nodes from tsv
RUN 0
setting tf seed
edges with overlapping scgs (max=20): []
deleted 0 edges with same SCGs
**** Num of edges: 13887
logging to mlflow
******* Running model: gcn **********
***** using edge weights: True ******
***** using disconnected: True ******
***** concat features: True *****
***** cluster markers only: False *****
***** threshold adj matrix: False *****
***** self edges only: False *****
***** Using raw kmer+abund features: False
***** SCG neg pairs: (0,)
***** input features dimension: 64
***** Nodes used for clustering: 8489
>>> Pre train stats: {'precision': 1.0, 'recall': 0.030627871362940276, 'f1': 0.05943536404160476, 'ari': 0, 'hq': 0, 'mq': 0, 'n_clusters': 3340, 'unresolved_mags': 0}
*** Model input dim 64, GNN input dim 64
*** output clustering dim 32
>>> best epoch all contigs: 0 : {'precision': 1.0, 'recall': 0.027329485216162092, 'f1': 0.05320490769407178, 'ari': 0, 'hq': 0, 'mq': 0, 'n_clusters': 3385, 'unresolved_mags': 0, 'epoch': 499} <<<
>>> best epoch: 0 : {'precision': 1.0, 'recall': 0.027329485216162092, 'f1': 0.05320490769407178, 'ari': 0, 'hq': 0, 'mq': 0, 'n_clusters': 3385, 'unresolved_mags': 0, 'epoch': 499} <<<
### writing best and last embs to Hjor_bins/
3385 clusters
### skipped 3137 clusters while writing to file
### wrote 248 clusters 248 >= #contig 1
setting torch seed
setting tf seed
### precision: 1.000 0.000
### recall: 0.027 0.000
### f1: 0.053 0.000
### ari: 0.000 0.000
### hq: 0.000 0.000
### mq: 0.000 0.000
### n_clusters: 3385.000 0.000
### unresolved_mags: 0.000 0.000
### epoch: 499.000 0.000
0.0 0.0 0.0 0.0
Total run time: 0:03:34.608793
Seconds per run: 214.61
